# لوحة تحكم إدارة فريق العمل

## نظرة عامة

تم تطوير لوحة تحكم شاملة لإدارة فريق العمل مع تقسيمها إلى ثلاثة تبويبات رئيسية لتنظيم المحتوى بشكل أفضل وجعل الواجهة متناسقة مع بقية أجزاء النظام.

## التبويبات المتاحة

### 1. تبويب نظرة عامة (Overview)

هذا التبويب هو المدخل الرئيسي للقسم ويعطي صورة سريعة عن حالة الفريق.

#### المحتوى:
- **البطاقات الإحصائية السريعة:**
  - إجمالي أعضاء الفريق
  - أعضاء نشطون حاليًا
  - التخصصات المتاحة
  - المشاريع النشطة

- **توزيع الأدوار:** عرض مرئي لتوزيع الأعضاء حسب الأدوار المختلفة
- **النشاط الأخير:** قائمة بالأعضاء الجدد (آخر 5 أعضاء)
- **أداء الفريق:** إحصائيات شاملة عن أداء الفريق

### 2. تبويب أعضاء الفريق (Team Members)

هذا هو التبويب الرئيسي لإدارة بيانات الأعضاء بشكل تفصيلي.

#### المحتوى:
- **قائمة أعضاء الفريق:** عرض جميع الأعضاء على شكل بطاقات أو جدول
- **البيانات لكل عضو:**
  - الصورة الشخصية
  - الاسم الكامل
  - المسمى الوظيفي
  - معلومات الاتصال (البريد الإلكتروني والهاتف)
  - الحالة (متاح، مشغول، في إجازة)
  - تاريخ الانضمام

#### الإجراءات والفلترة:
- زر "إضافة عضو جديد" لفتح نافذة لإدخال بيانات عضو جديد
- شريط بحث بالاسم أو المسمى الوظيفي
- فلاتر حسب المسمى الوظيفي والحالة
- تبديل العرض بين الشبكي والقائمة
- تصدير البيانات إلى CSV

### 3. تبويب الأدوار والصلاحيات (Roles & Permissions)

هذا التبويب يضيف بعدًا احترافيًا للنظام، حيث يسمح بتحديد صلاحيات كل دور بشكل مركزي.

#### المحتوى:
- **قائمة بالأدوار المعرفة:**
  - مدير نظام (صلاحيات كاملة)
  - مدير مشروع (إدارة المشاريع والفريق)
  - قائد فريق (قيادة الفريق وإدارة المهام)
  - عضو فريق (عضو في الفريق)
  - مشاهد (عرض فقط - بدون تعديل)

- **إمكانية إضافة دور جديد أو تعديل الأدوار الحالية**
- **لكل دور، يمكن تحديد الصلاحيات المتاحة:**
  - عرض المشاريع
  - إنشاء مشاريع
  - تعديل المشاريع
  - حذف المشاريع
  - عرض الفريق
  - إدارة الفريق
  - عرض المدفوعات
  - إدارة المدفوعات
  - عرض التقارير
  - إدارة الإعدادات

## الملفات الجديدة

### المكونات الرئيسية:
- `src/components/TeamDashboard.jsx` - المكون الرئيسي للوحة التحكم
- `src/components/team/TeamOverviewTab.jsx` - تبويب نظرة عامة
- `src/components/team/TeamMembersTab.jsx` - تبويب أعضاء الفريق
- `src/components/team/TeamRolesTab.jsx` - تبويب الأدوار والصلاحيات

### قاعدة البيانات:
- `create_team_members_table.sql` - ملف إنشاء جداول قاعدة البيانات

## قاعدة البيانات

### جدول `team_members`:
```sql
CREATE TABLE team_members (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    email VARCHAR(255) UNIQUE,
    phone VARCHAR(50),
    role VARCHAR(50) DEFAULT 'member',
    status VARCHAR(20) DEFAULT 'active',
    joined DATE DEFAULT CURRENT_DATE,
    avatar_url TEXT,
    bio TEXT,
    skills TEXT[],
    hourly_rate DECIMAL(10,2),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### جدول `custom_roles`:
```sql
CREATE TABLE custom_roles (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    name VARCHAR(100) NOT NULL UNIQUE,
    description TEXT,
    permissions JSONB DEFAULT '[]',
    is_default BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

## الميزات الرئيسية

### 1. واجهة مستخدم حديثة
- تصميم متجاوب يعمل على جميع الأجهزة
- دعم اللغة العربية والإنجليزية
- انتقالات سلسة بين التبويبات
- ألوان متناسقة مع بقية النظام

### 2. إدارة شاملة للأعضاء
- إضافة أعضاء جدد
- تعديل بيانات الأعضاء
- حذف الأعضاء
- رفع الصور الشخصية
- البحث والفلترة المتقدمة

### 3. نظام أدوار وصلاحيات
- أدوار افتراضية جاهزة
- إمكانية إنشاء أدوار مخصصة
- إدارة الصلاحيات بشكل مركزي
- عرض عدد الأعضاء لكل دور

### 4. إحصائيات وتقارير
- إحصائيات فورية عن حالة الفريق
- رسوم بيانية لتوزيع الأدوار
- تصدير البيانات إلى CSV
- عرض النشاط الأخير

## التطوير المستقبلي

### الميزات المقترحة:
1. **إدارة المشاريع المرتبطة:** ربط الأعضاء بالمشاريع التي يعملون عليها
2. **تقارير الأداء:** تقارير مفصلة عن أداء كل عضو
3. **إدارة الإجازات:** تتبع إجازات الأعضاء
4. **نظام الإشعارات:** إشعارات عند إضافة أعضاء جدد أو تغيير الحالة
5. **تكامل مع أنظمة خارجية:** ربط مع أنظمة إدارة الموارد البشرية

### التحسينات التقنية:
1. **تحسين الأداء:** إضافة caching للبيانات المتكررة
2. **أمان محسن:** إضافة المزيد من التحقق من الصلاحيات
3. **API محسن:** إنشاء endpoints منفصلة لكل عملية
4. **اختبارات شاملة:** إضافة unit tests و integration tests

## التثبيت والتشغيل

### 1. إنشاء جداول قاعدة البيانات:
```bash
psql -d your_database -f create_team_members_table.sql
```

### 2. تشغيل التطبيق:
```bash
npm install
npm run dev
```

### 3. الوصول للوحة التحكم:
انتقل إلى قسم "إدارة فريق العمل" من القائمة الرئيسية.

## الدعم والمساهمة

للمساهمة في تطوير هذه الميزة أو الإبلاغ عن مشاكل، يرجى:
1. فتح issue جديد في repository
2. تقديم pull request مع التحسينات
3. التواصل مع فريق التطوير

---

**تم تطوير هذه الميزة لتوفير تجربة شاملة ومتطورة لإدارة فريق العمل في نظام إدارة المشاريع.**
