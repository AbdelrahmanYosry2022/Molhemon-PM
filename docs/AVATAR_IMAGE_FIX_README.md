# ุฅุตูุงุญ ูุดููุฉ ุงูุตูุฑ ุงูุดุฎุตูุฉ ููุฃุนุถุงุก

## ๐ง ุงููุดููุฉ

**ุงูุฎุทุฃ:** `blob:http://localhost:5173/... net::ERR_FILE_NOT_FOUND`
- ุงูุตูุฑ ุชุณุชุฎุฏู ุฑูุงุจุท blob ูุคูุชุฉ ุชุฎุชูู ุนูุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ
- ุนูุฏ ุฅุถุงูุฉ ุนุถู ุฌุฏูุฏุ ุงูุตูุฑุฉ ุชุธูุฑ ูุคูุชุงู ุซู ุชุฎุชูู
- ุงูุตูุฑ ูุง ุชูุญูุธ ุจุดูู ุฏุงุฆู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐๏ธ ุงูุญู

### 1. ุฅุตูุงุญ ูุนุงูุฌุฉ ุงูุตูุฑ ูู `EditMemberModal.jsx`

**ุงููุดููุฉ:** ุงูุตูุฑ ุชูุญูุธ ูู blob URLs ูุคูุชุฉ
```jsx
// ูุจู ุงูุฅุตูุงุญ
onChange((s) => ({ 
  ...s, 
  avatar_file: file,
  avatar_url: URL.createObjectURL(file) // Create preview URL
}))
```

**ุงูุญู:** ุนุฏู ุญูุธ blob URLุ ููุท ูุนุงููุฉ ูุคูุชุฉ
```jsx
// ุจุนุฏ ุงูุฅุตูุงุญ
onChange((s) => ({ 
  ...s, 
  avatar_file: file,
  // ูุง ูุถุน avatar_url ููุง ูุฃููุง ุณุชููู blob ูุคูุช
  // ุณูุชู ุฑูุน ุงูุตูุฑุฉ ูู TeamDashboard
}))
```

### 2. ุฅุถุงูุฉ ูุนุงููุฉ ููุตูุฑุฉ ุงููุญุฏุฏุฉ ุญุฏูุซุงู

**ูุนุงููุฉ ุงูุตูุฑุฉ ูู ุงูููุฏุงู:**
```jsx
<img
  src={
    v.avatar_file 
      ? URL.createObjectURL(v.avatar_file) // ูุนุงููุฉ ูุคูุชุฉ ููุตูุฑุฉ ุงูุฌุฏูุฏุฉ
      : (v.avatar_url || v.avatar || "https://i.pravatar.cc/96?img=1") // ุตูุฑุฉ ููุฌูุฏุฉ ุฃู ุงูุชุฑุงุถูุฉ
  }
  alt="avatar"
  className="w-16 h-16 rounded-full object-cover border border-gray-200"
/>
```

### 3. ุฑูุน ุงูุตูุฑ ุฅูู Supabase Storage

**ูู `TeamDashboard.jsx`:**
```jsx
// ุฑูุน ุงูุตูุฑุฉ ุฅุฐุง ูุงูุช ููุฌูุฏุฉ
let avatarUrl = memberData.avatar_url;
if (memberData.avatar_file) {
  console.log('Uploading avatar file:', memberData.avatar_file.name);
  const fileExt = memberData.avatar_file.name.split('.').pop();
  const fileName = `${Date.now()}.${fileExt}`;
  const { data: uploadData, error: uploadError } = await supabase.storage
    .from('team-avatars')
    .upload(fileName, memberData.avatar_file);

  if (uploadError) {
    console.error('Avatar upload error:', uploadError);
    throw uploadError;
  }
  // ุงุณุชุฎุฏุงู URL ูุจุงุดุฑ ุจุฏูุงู ูู ูุชุบูุฑ ุงูุจูุฆุฉ
  avatarUrl = `https://zsshxpdgbnxfuszanaeo.supabase.co/storage/v1/object/public/team-avatars/${fileName}`;
  console.log('Avatar uploaded successfully:', avatarUrl);
}
```

## ๐ ุชุฏูู ุงูุนูู ุงูุฌุฏูุฏ

### ุฅุถุงูุฉ ุนุถู ุฌุฏูุฏ ูุน ุตูุฑุฉ:
1. ุงููุณุชุฎุฏู ููุชุญ ููุฏุงู "ุฅุถุงูุฉ ุนุถู"
2. ูุฎุชุงุฑ ุตูุฑุฉ ูู ุฌูุงุฒู
3. ูุฑู ูุนุงููุฉ ููุตูุฑุฉ (blob URL ูุคูุช)
4. ูุถุบุท "ุญูุธ"
5. ุงูุตูุฑุฉ ุชูุฑูุน ุฅูู Supabase Storage
6. ูุชู ุญูุธ URL ุงูุตูุฑุฉ ุงูุฏุงุฆู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
7. ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุญูููุ ุงูุตูุฑุฉ ุชุธูุฑ ูู ุงูุฑุงุจุท ุงูุฏุงุฆู

### ูุนุงูุฌุฉ ุงูุตูุฑ:
- **ูู ุงูููุฏุงู:** ูุนุงููุฉ ูุคูุชุฉ ุจุงุณุชุฎุฏุงู `URL.createObjectURL()`
- **ูู ุงูุฎุงุฏู:** ุฑูุน ุงูุตูุฑุฉ ุฅูู Supabase Storage
- **ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:** ุญูุธ URL ุงูุตูุฑุฉ ุงูุฏุงุฆู
- **ูู ุงูุนุฑุถ:** ุงุณุชุฎุฏุงู URL ุงูุฏุงุฆู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ฏ ุงูุชุญุณููุงุช ุงูุฌุฏูุฏุฉ

### 1. ูุนุงูุฌุฉ ุตุญูุญุฉ ููุตูุฑ
- ุนุฏู ุญูุธ blob URLs ูุคูุชุฉ
- ุฑูุน ุงูุตูุฑ ุฅูู Supabase Storage
- ุญูุธ URLs ุฏุงุฆูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. ูุนุงููุฉ ููุฑูุฉ ููุตูุฑ
- ุฑุคูุฉ ุงูุตูุฑุฉ ุงููุญุฏุฏุฉ ููุฑุงู
- ูุนุงููุฉ ูุจู ุงูุญูุธ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ

### 3. ุงุณุชูุฑุงุฑ ุงูุตูุฑ
- ุงูุตูุฑ ูุง ุชุฎุชูู ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุญููู
- URLs ุฏุงุฆูุฉ ููุณุชูุฑุฉ
- ุชุฎุฒูู ุขูู ูู Supabase

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ุนุถู:** ุงูุชุฃูุฏ ูู ุธููุฑ ุงูุตูุฑุฉ
2. **ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุงูุชุญููู:** ุงูุชุฃูุฏ ูู ุงุณุชูุฑุงุฑ ุธููุฑ ุงูุตูุฑุฉ
3. **ุงุฎุชุจุงุฑ ุชุนุฏูู ุงูุตูุฑุฉ:** ุงูุชุฃูุฏ ูู ุชุญุฏูุซ ุงูุตูุฑุฉ

## ๐ ููุงุญุธุงุช ูููุฉ

- ุงูุตูุฑ ุงูุขู ุชูุญูุธ ุจุดูู ุฏุงุฆู ูู Supabase Storage
- URLs ุงูุตูุฑ ูุณุชูุฑุฉ ููุง ุชุฎุชูู
- ูุนุงููุฉ ููุฑูุฉ ููุตูุฑ ุงููุญุฏุฏุฉ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ ูุน ุงูุตูุฑ

## ๐ง ุฅุนุฏุงุฏุงุช Supabase

**Bucket:** `team-avatars`
**URL Format:** `https://[PROJECT_ID].supabase.co/storage/v1/object/public/team-avatars/[FILENAME]`
**Permissions:** Public read access
